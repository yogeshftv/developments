<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>d3.js | Simple Bar Chart</title>
</head>
<body>

    <div style="text-align: center;">
        <h1>Bar Chart using d3.js</h1>
        <div id="d3-container"></div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.9.0/d3.min.js" integrity="sha512-vc58qvvBdrDR4etbxMdlTt4GBQk1qjvyORR2nrsPsFPyrs+/u5c3+1Ct6upOgdZoIl7eq6k3a1UPDSNAQi/32A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- Custom JavaScript -->
    <script>

        const dataset = [
            { name: 'John', score: 80},
            { name: 'Andrew', score: 90},
            { name: 'Michelle', score: 60}
        ];

        const width = 800;
        const height = 400;
        const margin = { top: 50, bottom: 50, left: 50, right: 50 };

        const svg = d3.select("#d3-container")
            .append("svg")
            .attr("height", height - margin.top - margin.bottom)
            .attr("width", width - margin.left - margin.right)
            .attr("viewBox", [0, 0, width, height])

        // scale for x-axis & y-axis
        const x = d3.scaleBond()
            .domain(d3.range(data.length))
            .range([margin.left, width - margin.right])
            .padding(0.1)

        const y = d3.scaleLinear()
        .domain([0, 100])
        .range([height - margin.bottom, margin.top])
        
        svg.append('g')
        .attr('fill', 'royalblue')
        .selectAll('rect')
        .data(data.sort((a, b) => d3.descending(a.score, b.score)))
        .join('rect')
        .attr('x', (d, i) => x[i])
        .attr('y', (d) =>y(d.score))
        .attr('height')
        .attr('width')
        
    </script>
</body>
</html>